<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet/less" type="text/css" href="style.less">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js" ></script> 
    
    
    <title>Morpion</title>
</head>
<body>
    <script>
        
$(function() {
    var joueur = 1;
    var table = $('table');
    var messages = $('.messages');
    var tour = $('.tour');
    afficheProchainJoueur(tour, joueur);
    $('td').click(function() {
        if($(this).hasClass('croix') || $(this).hasClass('cercle')){
            var status = 1;
        } else {
            status = 0;
        }
        if(status == 0){
            if(joueur == 1){
                var type = 'cercle';
                joueur = 0;
                afficheProchainJoueur(tour, joueur);
            }else{
                type = 'croix';
                joueur = 1;
                afficheProchainJoueur(tour, joueur);
                
            }
            $(this).addClass(type);
        }
        if(verifVictoire(table, type)) {
            messages.html('Joueur ' +joueur +' a gagner !! ');
            tour.html('');
        }
        
    });
    $('.reset').click(function() {  
    joueur = 1;
    messages.html('');
    afficheProchainJoueur(tour, joueur);
    table.find('td').each(function() {
    $(this).removeClass('cercle').removeClass('croix');
    });
  });
  
  
});
function verifVictoire(table, type){
 victoire = 0;
if(table.find('.p1').hasClass(type) && table.find('.p2').hasClass(type) && table.find('.p3').hasClass(type)){
victoire = 1;
}
if(table.find('.p4').hasClass(type) && table.find('.p5').hasClass(type) && table.find('.p6').hasClass(type)){
victoire = 1;
}
if(table.find('.p7').hasClass(type) && table.find('.p8').hasClass(type) && table.find('.p9').hasClass(type)){
victoire = 1;
}
if(table.find('.p1').hasClass(type) && table.find('.p4').hasClass(type) && table.find('.p7').hasClass(type)){
victoire = 1;
}
if(table.find('.p2').hasClass(type) && table.find('.p5').hasClass(type) && table.find('.p8').hasClass(type)){
victoire = 1;
}
if(table.find('.p3').hasClass(type) && table.find('.p6').hasClass(type) && table.find('.p9').hasClass(type)){
victoire = 1;
}
if(table.find('.p1').hasClass(type) && table.find('.p5').hasClass(type) && table.find('.p9').hasClass(type)){
victoire = 1;
}
if(table.find('.p3').hasClass(type) && table.find('.p5').hasClass(type) && table.find('.p7').hasClass(type)){
victoire = 1;
}
return victoire;
}
function afficheProchainJoueur(tour, joueur) {
  tour.html('Au tour du joueur nÂ° : '+joueur+ ' de jouer');
}
</script>
<br><br>
<div class="jeu">
<h1>Morpion en Java</h1>
<div class="messages"></div>
<div class="tour"></div>


    <table>
        <tr>
            <td class="p1"> </td>
            <td class="p2"> </td>
            <td class="p3"> </td>
        </tr>

        <tr>
            <td class="p4"> </td>
            <td class="p5"> </td>
            <td class="p6"> </td>
        </tr>

        <tr>
            <td class="p7"> </td>
            <td class="p8"> </td>
            <td class="p9"> </td>
        </tr>
    </table>
<br>
    <input class="reset" type="button" value="Reset">
</div>
</body>
</html>